(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{1687:function(e,t,a){Promise.resolve().then(a.bind(a,5115))},5115:function(e,t,a){"use strict";var n=a(7437),s=a(2265),l=a(7818),r=a(3501),o=a(6463),d=a(8472);let i=(0,l.default)(()=>a.e(432).then(a.bind(a,5432)),{loadableGenerated:{webpack:()=>[5432]},ssr:!1});t.default=()=>{let{url:e,setToken:t}=(0,s.useContext)(r.A),a=(0,o.useRouter)(),[l,u]=(0,s.useState)({name:"",email:"",password:"",confirmPassword:"",dateofbirth:"",mobilenumber:"",gender:"",address:""}),[c,m]=(0,s.useState)(""),[f,h]=(0,s.useState)(!1),p=e=>{let t=e.target.name,a=e.target.value;u(e=>({...e,[t]:a}))},x=async n=>{n.preventDefault();let s="".concat(e,"/api/user/register");if(l.password!==l.confirmPassword){m("비밀번호와 비밀번호 확인이 일치하지 않습니다.");return}console.log("Form data:",l),console.log("Request URL:",s);try{let e=await d.Z.post(s,l);console.log("Response:",e),e.data.success?(t(e.data.token),localStorage.setItem("token",e.data.token),console.log("Token set in localStorage:",e.data.token),a.push("/")):m(e.data.message)}catch(e){console.error("Register error:",e),m("회원가입 실패. 다시 시도해주세요.")}};return(0,n.jsx)("div",{className:"flex items-center justify-center w-screen mt-[7rem] mb-[7rem]",children:(0,n.jsxs)("div",{className:"flex flex-col w-[60%]",children:[(0,n.jsx)("h2",{className:"text-4xl font-bold mb-[4rem] text-center text-purple-heavy",children:"회원가입"}),(0,n.jsxs)("form",{onSubmit:x,children:[(0,n.jsxs)("div",{className:"ml-0 mb-4",children:[(0,n.jsx)("label",{className:"block text-[18px] mb-2",htmlFor:"name",children:"이름 "}),(0,n.jsx)("input",{id:"name",name:"name",type:"text",value:l.name,onChange:p,required:!0,className:"appearance-none border-1 shadow-sm rounded w-[30%] py-2 px-3 text-gray-90 leading-tight focus:outline-none focus:shadow-outline"})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block text-[18px] mb-2",htmlFor:"email",children:"이메일 "}),(0,n.jsx)("input",{id:"email",name:"email",type:"email",value:l.email,onChange:p,required:!0,className:"appearance-none border-1 shadow-sm rounded w-[40%] py-2 px-3 text-gray-90 leading-tight focus:outline-none focus:shadow-outline"})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block text-[18px] mb-2",htmlFor:"password",children:"비밀번호 "}),(0,n.jsx)("input",{id:"password",name:"password",type:"password",value:l.password,onChange:p,required:!0,className:"appearance-none border-1 shadow-sm rounded w-[40%] py-2 px-3 text-gray-90 leading-tight focus:outline-none focus:shadow-outline"})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block text-[18px] mb-2",htmlFor:"confirmPassword",children:"비밀번호 확인 "}),(0,n.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",value:l.confirmPassword,onChange:p,required:!0,className:"appearance-none border-1 shadow-sm rounded w-[40%] py-2 px-3 text-gray-90 leading-tight focus:outline-none focus:shadow-outline"})]}),c&&(0,n.jsx)("div",{className:"mb-4 text-red-500",children:c}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsxs)("label",{className:"block text-[18px] mb-2",htmlFor:"dateOfBirth",children:["생년월일 ",(0,n.jsx)("span",{className:"text-sm text-gray-20",children:" (2000.01.01 형태로 기입) "})]}),(0,n.jsx)("input",{id:"dateofbirth",name:"dateofbirth",type:"text",value:l.dateofbirth,onChange:p,required:!0,className:"appearance-none border-1 shadow-sm rounded w-[40%] py-2 px-3 text-gray-90 leading-tight focus:outline-none focus:shadow-outline"})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block text-[18px] mb-2",htmlFor:"gender",children:"성별 "}),(0,n.jsx)("input",{id:"male",name:"gender",type:"radio",value:"male",checked:"male"===l.gender,onChange:p,className:"mr-2"}),(0,n.jsxs)("label",{htmlFor:"male",className:"mr-4",children:["남 "," "]}),(0,n.jsx)("input",{id:"female",name:"gender",type:"radio",value:"female",checked:"female"===l.gender,onChange:p,className:"mr-2"}),(0,n.jsx)("label",{htmlFor:"female",className:"mr-4",children:"여 "}),(0,n.jsx)("input",{id:"other",name:"gender",type:"radio",value:"other",checked:"other"===l.gender,onChange:p,className:"mr-2"}),(0,n.jsx)("label",{htmlFor:"other",children:"기타 "})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsxs)("label",{className:"block text-[18px] mb-2",htmlFor:"mobileNumber",children:["전화번호 ",(0,n.jsx)("span",{className:"text-sm text-gray-20",children:" (01012345678 형태로 기입 - 번호만 기입) "})]}),(0,n.jsx)("input",{id:"mobilenumber",name:"mobilenumber",type:"text",value:l.mobilenumber,onChange:p,required:!0,className:"appearance-none border-1 shadow-sm rounded w-[40%] py-2 px-3 text-gray-90 leading-tight focus:outline-none focus:shadow-outline"})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsxs)("label",{className:"block text-[18px] mb-2",htmlFor:"address",children:["주소: "," "]}),(0,n.jsx)("input",{id:"address",type:"text",name:"address",value:l.address,onChange:p,readOnly:!0,required:!0,className:"appearance-none border-1 shadow-sm rounded w-[40%] py-2 px-3 text-gray-90 leading-tight focus:outline-none focus:shadow-outline"}),(0,n.jsx)("button",{type:"button",className:"ml-5 bg-gray-10 text-black text-[15px] py-2 px-4 rounded",onClick:()=>h(!0),children:"주소 찾기 "})]}),f&&(0,n.jsx)(i,{onComplete:e=>{let t=e.address,a="";"R"===e.addressType&&(""!==e.bname&&(a+=e.bname),""!==e.buildingName&&(a+=""!==a?", ".concat(e.buildingName):e.buildingName),t+=""!==a?" (".concat(a,")"):""),u({...l,address:t}),h(!1)},autoClose:!1,style:{width:"100%",height:"400px"}}),(0,n.jsx)("div",{className:"mt-10 mb-6",children:(0,n.jsx)("button",{type:"submit",className:"bg-purple-heavy text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full",children:"회원가입 "})})]})]})})}},3501:function(e,t,a){"use strict";a.d(t,{A:function(){return r}});var n=a(7437),s=a(2265),l=a(1467);let r=(0,s.createContext)({url:"http://localhost:4000",token:"",setToken:()=>{}});t.Z=e=>{let{children:t}=e,[a,o]=(0,s.useState)(l.Z.getItem("token")||"");return(0,s.useEffect)(()=>{let e=l.Z.getItem("token");e&&(o(e),console.log("Token found in localStorage:",e))},[]),(0,n.jsx)(r.Provider,{value:{url:"http://localhost:4000",token:a,setToken:o},children:t})}},1467:function(e,t){"use strict";class a{static setItem(e,t){localStorage.setItem(e,t)}static getItem(e){return localStorage.getItem(e)}static removeItem(e){localStorage.removeItem(e)}constructor(){}}t.Z=a},7818:function(e,t,a){"use strict";a.d(t,{default:function(){return s.a}});var n=a(551),s=a.n(n)},6463:function(e,t,a){"use strict";var n=a(1169);a.o(n,"usePathname")&&a.d(t,{usePathname:function(){return n.usePathname}}),a.o(n,"useRouter")&&a.d(t,{useRouter:function(){return n.useRouter}}),a.o(n,"useSearchParams")&&a.d(t,{useSearchParams:function(){return n.useSearchParams}})},551:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let n=a(9920);a(7437),a(2265);let s=n._(a(148));function l(e,t){var a;let n={loading:e=>{let{error:t,isLoading:a,pastDelay:n}=e;return null}};"function"==typeof e&&(n.loader=e);let l={...n,...t};return(0,s.default)({...l,modules:null==(a=l.loadableGenerated)?void 0:a.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},912:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return s}});let n=a(5592);function s(e){let{reason:t,children:a}=e;if("undefined"==typeof window)throw new n.BailoutToCSRError(t);return a}},148:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let n=a(7437),s=a(2265),l=a(912),r=a(1481);function o(e){return{default:e&&"default"in e?e.default:e}}let d={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},i=function(e){let t={...d,...e},a=(0,s.lazy)(()=>t.loader().then(o)),i=t.loading;function u(e){let o=i?(0,n.jsx)(i,{isLoading:!0,pastDelay:!0,error:null}):null,d=t.ssr?(0,n.jsxs)(n.Fragment,{children:["undefined"==typeof window?(0,n.jsx)(r.PreloadCss,{moduleIds:t.modules}):null,(0,n.jsx)(a,{...e})]}):(0,n.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(a,{...e})});return(0,n.jsx)(s.Suspense,{fallback:o,children:d})}return u.displayName="LoadableComponent",u}},1481:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return l}});let n=a(7437),s=a(8512);function l(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let a=(0,s.getExpectedRequestStore)("next/dynamic css"),l=[];if(a.reactLoadableManifest&&t){let e=a.reactLoadableManifest;for(let a of t){if(!e[a])continue;let t=e[a].files.filter(e=>e.endsWith(".css"));l.push(...t)}}return 0===l.length?null:(0,n.jsx)(n.Fragment,{children:l.map(e=>(0,n.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:a.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}}},function(e){e.O(0,[472,971,23,744],function(){return e(e.s=1687)}),_N_E=e.O()}]);